/**
Instafeed.js
Dead-simple way to add Instagram photos to your website. 
No jQuery required, just plain 'ol javascript.

Demo: http://instafeedjs.com/
Source: https://github.com/stevenschobert/instafeed.js
*/

(function(){var e,t;e=function(){function e(e){var t,n;this.options={target:"instafeed",get:"popular",resolution:"thumbnail",links:true,limit:15,before:function(){},success:function(){},error:function(){},complete:function(){}};if(typeof e==="object"){for(t in e){n=e[t];this.options[t]=n}}}e.prototype.run=function(){var t,n;this.options.before.call(this);if(typeof this.options.clientId!=="string"){if(typeof this.options.accessToken!=="string"){throw new Error("Missing clientId or accessToken.")}}if(typeof this.options.accessToken!=="string"){if(typeof this.options.clientId!=="string"){throw new Error("Missing clientId or accessToken.")}}n=document.createElement("script");n.id="instafeed-fetcher";n.src=this._buildUrl();t=document.getElementsByTagName("head");t[0].appendChild(n);window.instafeedCache=new e(this.options);return true};e.prototype.parse=function(e){var t,n,r,i,s,o,u,a;if(typeof e!=="object"){throw new Error("Invalid JSON response")}if(e.meta.code!==200){throw new Error("Problem parsing response: "+e.meta.error_message)}if(e.data.length===0){throw new Error("No images were returned from Instagram");this.options.error.call(this)}if(typeof e=="object"){this.options.success.call(this)}n=document.createDocumentFragment();s=e.data;if(s.length>this.options.limit){s=s.slice(0,this.options.limit+1||9e9)}for(u=0,a=s.length;u<a;u++){i=s[u];o=document.createElement("img");o.src=i.images[this.options.resolution].url;if(this.options.links===true){t=document.createElement("a");t.href=i.link;t.appendChild(o);n.appendChild(t)}else{n.appendChild(o)}}document.getElementById(this.options.target).appendChild(n);this.options.complete.call(this);r=document.getElementsByTagName("head")[0];r.removeChild(document.getElementById("instafeed-fetcher"));delete window.instafeedCache;return true};e.prototype._buildUrl=function(){var e,t,n;e="https://api.instagram.com/v1";switch(this.options.get){case"popular":t="media/popular";break;case"tagged":if(typeof this.options.tagName!=="string"){throw new Error("No tag name specified. Use the 'tagName' option.")}t="tags/"+this.options.tagName+"/media/recent";break;case"location":if(typeof this.options.locationId!=="number"){throw new Error("No location specified. Use the 'locationId' option.")}t="locations/"+this.options.locationId+"/media/recent";break;case"user":if(typeof this.options.userId!=="number"){throw new Error("No user specified. Use the 'userId' option.")}if(typeof this.options.accessToken!=="string"){throw new Error("No access token. Use the 'accessToken' option.")}t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}n=""+e+"/"+t;if(this.options.accessToken!=null){n+="?access_token="+this.options.accessToken}else{n+="?client_id="+this.options.clientId}n+="&count="+this.options.limit;n+="&callback=instafeedCache.parse";return n};return e}();t=typeof exports!=="undefined"&&exports!==null?exports:window;t.Instafeed=e}).call(this)